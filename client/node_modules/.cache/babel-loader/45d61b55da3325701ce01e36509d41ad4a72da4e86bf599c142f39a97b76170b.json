{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kevin\\\\Downloads\\\\Bus4-main\\\\Bus4-main\\\\Bus4\\\\client\\\\src\\\\components\\\\Header.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { UserContext } from \"../context/UserContext\"; // Asegúrate de importar correctamente el contexto de usuario\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst HeaderContainer = styled.header`\n  background-color: #007bff;\n  color: white;\n  text-align: center;\n  padding: 1rem;\n`;\n_c = HeaderContainer;\nconst HeaderTitle = styled.h1`\n  font-size: 2rem;\n  margin: 0;\n`;\n_c2 = HeaderTitle;\nconst LogoutButton = styled.button`\n  background-color: #ff4d4d;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  margin-top: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n`;\nconst Header = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user,\n    setUser\n  } = useContext(UserContext);\n  const [showMenu, setShowMenu] = React.useState(false);\n  const logOutUser = async () => {\n    try {\n      await axios.post(\"http://localhost:8000/api/auth/logout\", {\n        withCredentials: true\n      });\n      localStorage.removeItem(\"user\");\n      setUser(null);\n      navigate(\"/\");\n      setShowMenu(false);\n      console.log(\"User logged out\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.log(\"Error: \", ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || \"Error desconocido\");\n      alert(\"Error al cerrar sesión\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(HeaderContainer, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderTitle, {\n      children: \"Bus Ticket Book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/BusSearch\",\n        className: \"btn btn-sm btn-outline-light me-4\",\n        children: \"Buscar Viajes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/mis-reservas\",\n        className: \"btn btn-sm btn-outline-light me-4\",\n        children: \"Mis reservas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this), user && user.role === \"admin\" && /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/AllReservas\",\n        className: \"btn btn-sm btn-outline-light me-4\",\n        children: \"Todas las Reservas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-sm btn-outline-light me-4\",\n        onClick: logOutUser,\n        children: \"Cerrar Sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Header, \"9gwMS4JU+ECcoEzEGxu4uBZrcCg=\", false, function () {\n  return [useNavigate];\n});\n_c3 = Header;\nexport default Header;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"HeaderContainer\");\n$RefreshReg$(_c2, \"HeaderTitle\");\n$RefreshReg$(_c3, \"Header\");","map":{"version":3,"names":["React","useContext","Link","useNavigate","axios","styled","UserContext","jsxDEV","_jsxDEV","Fragment","_Fragment","HeaderContainer","header","_c","HeaderTitle","h1","_c2","LogoutButton","button","Header","_s","navigate","user","setUser","showMenu","setShowMenu","useState","logOutUser","post","withCredentials","localStorage","removeItem","console","log","err","_err$response","_err$response$data","response","data","msg","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","to","className","role","onClick","_c3","$RefreshReg$"],"sources":["C:/Users/kevin/Downloads/Bus4-main/Bus4-main/Bus4/client/src/components/Header.jsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport styled from \"styled-components\";\nimport { UserContext } from \"../context/UserContext\"; // Asegúrate de importar correctamente el contexto de usuario\n\nconst HeaderContainer = styled.header`\n  background-color: #007bff;\n  color: white;\n  text-align: center;\n  padding: 1rem;\n`;\n\nconst HeaderTitle = styled.h1`\n  font-size: 2rem;\n  margin: 0;\n`;\n\nconst LogoutButton = styled.button`\n  background-color: #ff4d4d;\n  color: white;\n  border: none;\n  padding: 0.5rem 1rem;\n  margin-top: 1rem;\n  cursor: pointer;\n  border-radius: 5px;\n`;\n\nconst Header = () => {\n  const navigate = useNavigate();\n  const { user, setUser } = useContext(UserContext);\n  const [showMenu, setShowMenu] = React.useState(false);\n\n  const logOutUser = async () => {\n    try {\n      await axios.post(\"http://localhost:8000/api/auth/logout\", {\n        withCredentials: true,\n      });\n      localStorage.removeItem(\"user\");\n      setUser(null);\n      navigate(\"/\");\n      setShowMenu(false);\n      console.log(\"User logged out\");\n    } catch (err) {\n      console.log(\"Error: \", err.response?.data?.msg || \"Error desconocido\");\n      alert(\"Error al cerrar sesión\");\n    }\n  };\n\n  return (\n    <HeaderContainer>\n      <HeaderTitle>Bus Ticket Book</HeaderTitle>\n      {user && (\n        <>\n          <Link to=\"/BusSearch\" className=\"btn btn-sm btn-outline-light me-4\">\n            Buscar Viajes\n          </Link>\n          <Link to=\"/mis-reservas\" className=\"btn btn-sm btn-outline-light me-4\">\n            Mis reservas\n          </Link>\n        \n        {user && user.role === \"admin\" && (\n           <Link to=\"/AllReservas\" className=\"btn btn-sm btn-outline-light me-4\"> \n           Todas las Reservas\n            </Link>\n        )}\n          <Link  className=\"btn btn-sm btn-outline-light me-4\" onClick={logOutUser}>Cerrar Sesión</Link>\n        </>\n      )}\n    </HeaderContainer>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}